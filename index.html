<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Madeira: Peaks, Pools & Primeval Forests</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Font Awesome for Icons (No SVG) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Placeholder Comments -->
    <!-- Chosen Palette: Warm Neutrals & Earth Tones (Sand, Stone, Forest Green, Deep Ocean Blue) - creating a calm, harmonious backdrop for nature exploration. -->

    <!-- Application Structure Plan: 
         1. **Hero Section**: Sets the mood and context.
         2. **Dashboard/Summary View**: A high-level overview of the trip stats (Total hiking, driving) to manage expectations.
         3. **Interactive Timeline (The Core)**: A horizontal scrollable day selector. This is the primary navigation.
         4. **Day Detail View**: Dynamic content area. Updates based on Timeline selection. Includes:
            - Narrative breakdown (Morning/Afternoon).
            - "Vibe Check" Radar Chart (Dynamic) to show the day's balance (Hiking vs Driving vs Relaxing).
            - Key Stops List with icons.
            - Driving Logistics box.
         5. **Essentials & Tips**: Static reference section for driving and packing.
         Why? The user has a car and wants to "see as much as possible". A day-by-day breakdown with driving metrics is crucial. The radar chart helps them mentally prepare for the effort level of each day.
    -->

    <!-- Visualization & Content Choices:
         1. **Day Balance Radar Chart**: Goal -> Inform/Prepare. Viz -> Radar Chart (Chart.js). Interaction -> Updates on day select. Justification -> Quickly communicates if a day is "Leg Day" (Hiking) or "Chill Day" (Swimming).
         2. **Trip Intensity Bar Chart**: Goal -> Compare. Viz -> Bar Chart. Interaction -> None (Static Overview). Justification -> Shows the physical flow of the week.
         3. **Interactive Checklist**: Goal -> Organize. Viz -> HTML List with JS toggles. Interaction -> Click to cross off. Justification -> Practical utility for packing.
         4. **Icons**: FontAwesome. Justification -> Replaces SVGs for visual cues without raster images.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #f5f5f0; /* Warm neutral background */
        color: #2d3748;
      }
      h1,
      h2,
      h3,
      .serif {
        font-family: "Playfair Display", serif;
      }

      /* Custom Scrollbar for horizontal nav */
      .hide-scroll::-webkit-scrollbar {
        display: none;
      }
      .hide-scroll {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      /* Chart Container Styles - Mandatory Compliance */
      .chart-container {
        position: relative;
        width: 100%;
        max-width: 600px; /* Constraint */
        margin-left: auto;
        margin-right: auto;
        height: 300px; /* Base height */
        max-height: 400px;
      }
      @media (min-width: 768px) {
        .chart-container {
          height: 350px;
        }
      }

      .active-day {
        background-color: #2f855a; /* Forest Green */
        color: white;
        border-color: #2f855a;
      }
      .inactive-day {
        background-color: white;
        color: #4a5568;
        border-color: #cbd5e0;
      }
      .inactive-day:hover {
        border-color: #2f855a;
        color: #2f855a;
      }

      .fade-in {
        animation: fadeIn 0.5s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body class="min-h-screen flex flex-col">
    <!-- Navigation / Header -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">
          <div class="flex items-center">
            <i class="fa-solid fa-leaf text-green-700 text-2xl mr-2"></i>
            <span class="font-bold text-xl tracking-tight serif text-gray-800"
              >Madeira Explorer</span
            >
          </div>
          <div class="hidden md:flex space-x-8">
            <button
              onclick="scrollToSection('overview')"
              class="text-gray-600 hover:text-green-700 font-medium"
            >
              Overview
            </button>
            <button
              onclick="scrollToSection('itinerary')"
              class="text-gray-600 hover:text-green-700 font-medium"
            >
              Itinerary
            </button>
            <button
              onclick="scrollToSection('essentials')"
              class="text-gray-600 hover:text-green-700 font-medium"
            >
              Essentials
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <header
      class="bg-[#e2e8f0] py-12 px-4 sm:px-6 lg:px-8 border-b border-gray-200"
    >
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
          6 Days of Peaks, Pools & Primeval Forests
        </h1>
        <p
          class="text-lg md:text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto"
        >
          A high-intensity, nature-focused itinerary for the independent
          traveler. From the misty Fanal forest to the rugged peaks of Arieiro,
          optimized for your rental car freedom.
        </p>
        <div class="mt-8 flex justify-center gap-4">
          <div class="flex items-center text-sm font-medium text-gray-500">
            <i class="fa-solid fa-car mr-2"></i> Self-Drive
          </div>
          <div class="flex items-center text-sm font-medium text-gray-500">
            <i class="fa-solid fa-person-hiking mr-2"></i> ~35km Hiking
          </div>
          <div class="flex items-center text-sm font-medium text-gray-500">
            <i class="fa-solid fa-water mr-2"></i> 4 Swim Spots
          </div>
        </div>
      </div>
    </header>

    <!-- Overview Dashboard Section -->
    <section id="overview" class="py-12 bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-4">
            Trip Intensity Overview
          </h2>
          <p class="text-gray-600 max-w-3xl">
            This section provides a bird's-eye view of your week. Madeira is
            vertical; "flat" is rare. We've balanced heavy hiking days with
            coastal relaxation to keep your legs fresh. Use this chart to gauge
            your energy expenditure for the week.
          </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
          <!-- Summary Stats -->
          <div
            class="col-span-1 bg-gray-50 rounded-xl p-6 border border-gray-100 shadow-sm"
          >
            <h3 class="text-lg font-semibold mb-4 border-b pb-2">
              At a Glance
            </h3>
            <ul class="space-y-4">
              <li class="flex justify-between items-center">
                <span class="text-gray-600"
                  ><i class="fa-solid fa-mountain text-gray-400 w-6"></i> Key
                  Hike</span
                >
                <span class="font-bold">Pico do Arieiro</span>
              </li>
              <li class="flex justify-between items-center">
                <span class="text-gray-600"
                  ><i class="fa-solid fa-tree text-gray-400 w-6"></i> Must
                  See</span
                >
                <span class="font-bold">Fanal Forest</span>
              </li>
              <li class="flex justify-between items-center">
                <span class="text-gray-600"
                  ><i class="fa-solid fa-route text-gray-400 w-6"></i> Total
                  Drive</span
                >
                <span class="font-bold">~350 km</span>
              </li>
              <li class="flex justify-between items-center">
                <span class="text-gray-600"
                  ><i class="fa-solid fa-person-swimming text-gray-400 w-6"></i>
                  Best Swim</span
                >
                <span class="font-bold">Porto Moniz</span>
              </li>
            </ul>
          </div>

          <!-- Overall Intensity Chart -->
          <div class="col-span-1 lg:col-span-2">
            <div
              class="bg-white rounded-xl p-4 shadow-sm border border-gray-100"
            >
              <h3
                class="text-sm font-semibold text-gray-500 mb-2 uppercase tracking-wide text-center"
              >
                Physical Demand by Day
              </h3>
              <div class="chart-container">
                <canvas id="overviewChart"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Interactive Itinerary Section -->
    <section id="itinerary" class="py-12 bg-[#f5f5f0]">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">Daily Itinerary</h2>
          <p class="text-gray-600">
            Select a day to see detailed plans, driving times, and the "Vibe
            Check" for what to expect.
          </p>
        </div>

        <!-- Day Selector (Timeline) -->
        <div
          class="flex overflow-x-auto hide-scroll space-x-4 pb-4 mb-6"
          id="daySelector"
        >
          <!-- Buttons injected by JS -->
        </div>

        <!-- Dynamic Day Content -->
        <div
          id="dayContent"
          class="bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden fade-in min-h-[600px]"
        >
          <!-- Content injected by JS -->
        </div>
      </div>
    </section>

    <!-- Essentials Section -->
    <section id="essentials" class="py-12 bg-white border-t border-gray-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl font-bold text-gray-800 mb-6">
          Madeira Essentials
        </h2>
        <p class="text-gray-600 mb-8 max-w-3xl">
          Driving in Madeira is an experience in itself—steep inclines, tunnels,
          and narrow roads. Prepare your gear and your driving mindset.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <!-- Driving Tips -->
          <div class="bg-blue-50 rounded-xl p-6">
            <h3 class="text-xl font-bold text-blue-900 mb-4">
              <i class="fa-solid fa-car-side mr-2"></i> Rental Car Tips
            </h3>
            <ul class="space-y-3 text-blue-800">
              <li class="flex items-start">
                <i class="fa-solid fa-circle-check mt-1 mr-2 text-sm"></i>
                <span
                  ><strong>Gears:</strong> Use low gears on steep descents to
                  save your brakes. Brake fade is real here.</span
                >
              </li>
              <li class="flex items-start">
                <i class="fa-solid fa-circle-check mt-1 mr-2 text-sm"></i>
                <span
                  ><strong>Tunnels:</strong> There are over 150 tunnels. Keep
                  headlights on auto or manually check them.</span
                >
              </li>
              <li class="flex items-start">
                <i class="fa-solid fa-circle-check mt-1 mr-2 text-sm"></i>
                <span
                  ><strong>VR1 vs ER roads:</strong> VR1 is the rapid highway.
                  ER roads are scenic but twisty and slow.</span
                >
              </li>
              <li class="flex items-start">
                <i class="fa-solid fa-circle-check mt-1 mr-2 text-sm"></i>
                <span
                  ><strong>Parking:</strong> In Funchal, use parking garages
                  (parques). Street parking is scarce and steep.</span
                >
              </li>
            </ul>
          </div>

          <!-- Interactive Packing List -->
          <div class="bg-green-50 rounded-xl p-6">
            <h3 class="text-xl font-bold text-green-900 mb-4">
              <i class="fa-solid fa-backpack mr-2"></i> Hiker's Pack List
            </h3>
            <div id="packingList" class="space-y-2">
              <!-- Items injected by JS -->
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-8 mt-auto">
      <div class="max-w-7xl mx-auto px-4 text-center">
        <p class="mb-2 font-serif text-lg">Madeira Adventure Planner</p>
        <p class="text-sm text-gray-500">
          Generated for your 6-day self-drive trip.
        </p>
      </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
      // --- Data Definitions ---

      const itineraryData = [
        {
          day: 1,
          title: "Arrival & The Vertical City",
          subtitle: "Funchal, Monte, and Sunset Views",
          desc: "Ease into the island. Pick up your car and explore the capital. Funchal isn't just a city; it's an amphitheater. We'll mix history with a tropical garden warm-up walk.",
          morning:
            "Pick up car at airport. Drive to Funchal (20 min). Head straight to **Old Town (Zona Velha)** for lunch (try 'Bolo do Caco'). Walk down Rua de Santa Maria to see the painted doors.",
          afternoon:
            "Drive or take the cable car up to **Monte Palace Tropical Gardens**. It's a massive, multi-level nature walk disguised as a garden. 100% worth it. Optional: Take the Wicker Toboggan sled down.",
          evening:
            "Drive to **Pico dos Barcelos** viewpoint for a massive panoramic sunset over the bay. Dinner in Funchal.",
          driveTime: "45 mins total",
          driveDist: "25 km",
          hikeDist: "4 km (Walking in gardens/city)",
          swim: false,
          stats: {
            Nature: 60,
            Physical: 40,
            Culture: 80,
            Relaxation: 50,
            Driving: 30,
          },
        },
        {
          day: 2,
          title: "Above the Clouds",
          subtitle: "Pico do Arieiro & Santana",
          desc: "The big hiking day. We start high. The goal is to see the rugged central massif. If you aren't doing the full Arieiro-Ruivo traverse, at least hike the first kilometer for the views.",
          morning:
            "Early start (sunrise if possible). Drive to **Pico do Arieiro** (1818m). The road goes all the way up. Hike part of the trail towards Pico Ruivo (PR1). Even doing just the 'Ninho da Manta' viewpoint (30 mins return) is spectacular.",
          afternoon:
            "Drive down the north side to **Santana**. See the traditional A-frame houses (Casas Típicas). Stop at **Guindaste Viewpoint** for a dramatic coastal cliff view.",
          evening: "Return via the Machico route for easier roads. Rest legs.",
          driveTime: "2 hours",
          driveDist: "65 km",
          hikeDist: "6-12 km (Depending on trail choice)",
          swim: false,
          stats: {
            Nature: 100,
            Physical: 90,
            Culture: 40,
            Relaxation: 10,
            Driving: 70,
          },
        },
        {
          day: 3,
          title: "Mist & Magma",
          subtitle: "Fanal Forest, Porto Moniz & Seixal",
          desc: "The North West is the most Jurassic Park-looking part of the island. We chase the fog in the ancient Laurisilva forest and swim in volcanic pools.",
          morning:
            "Drive to **Fanal Forest**. It is best in the mist. Walk among the ancient Ocotea foetens trees (Posto Florestal Fanal). Cows often graze here. It's magical and eerie.",
          afternoon:
            "Drop down to sea level at **Porto Moniz**. Swim in the natural lava pools (Piscinas Naturais). Then drive east to **Seixal** to see the black sand beach and Veu da Noiva waterfall.",
          evening:
            "Drive back through the Encumeada pass if clear, or the tunnel route if tired.",
          driveTime: "2.5 hours",
          driveDist: "90 km",
          hikeDist: "4 km (Fanal wanderings)",
          swim: true,
          stats: {
            Nature: 100,
            Physical: 50,
            Culture: 20,
            Relaxation: 80,
            Driving: 80,
          },
        },
        {
          day: 4,
          title: "The Dragon's Tail",
          subtitle: "Ponta de São Lourenço & East Coast",
          desc: "A complete change of scenery. The eastern tip is arid, dry, and colorful, contrasting with the green rest of the island.",
          morning:
            "Hike **PR8 Ponta de São Lourenço**. It's treeless, windy, and offers dramatic cliff views. About 3-4 hours return. Bring a hat and water!",
          afternoon:
            "Head to **Machico**. It has one of the few golden sand beaches (imported sand). Great for a relaxing swim after the dusty hike. Visit the Pico do Facho viewpoint.",
          evening: "Easy dinner in Machico or return to Funchal.",
          driveTime: "1 hour",
          driveDist: "40 km",
          hikeDist: "7 km",
          swim: true,
          stats: {
            Nature: 80,
            Physical: 80,
            Culture: 20,
            Relaxation: 50,
            Driving: 40,
          },
        },
        {
          day: 5,
          title: "Waterfalls & Skywalks",
          subtitle: "Levada das 25 Fontes & Cabo Girão",
          desc: "You cannot leave Madeira without doing a Levada walk (irrigation channel trail). We head to the Rabaçal plateau.",
          morning:
            "Drive to Rabaçal parking. Hike **PR6 Levada das 25 Fontes**. It leads to a wall of 25 waterfalls. It's popular, so go early. Also see the Risco waterfall nearby.",
          afternoon:
            "Drive back along the south coast. Stop at **Cabo Girão**, one of the highest sea cliffs in Europe with a glass skywalk floor.",
          evening:
            "Sunset drinks at Ponta do Sol (sunniest spot on the island).",
          driveTime: "2 hours",
          driveDist: "70 km",
          hikeDist: "10 km",
          swim: false,
          stats: {
            Nature: 90,
            Physical: 70,
            Culture: 30,
            Relaxation: 40,
            Driving: 60,
          },
        },
        {
          day: 6,
          title: "The Wild West Sunset",
          subtitle: "Ponta do Pargo & Calheta",
          desc: "Exploring the quieter South West. Dramatic cliffs, a lighthouse, and a final beach day before heading to the airport/returning the car.",
          morning:
            "Drive west to **Ponta do Pargo**. Visit the lighthouse on the cliffs. The views are endless. Stop at the steep 'Garganta Funda' waterfall viewpoint nearby.",
          afternoon:
            "Head to **Jardim do Mar** or **Paul do Mar**, tiny villages with narrow streets right on the ocean. Finish at **Calheta** beach for a final swim.",
          evening: "Return car and head to airport or final night's stay.",
          driveTime: "2.5 hours",
          driveDist: "80 km",
          hikeDist: "2 km (Short walks)",
          swim: true,
          stats: {
            Nature: 70,
            Physical: 30,
            Culture: 50,
            Relaxation: 90,
            Driving: 80,
          },
        },
      ];

      const packingItems = [
        "Hiking Boots (Waterproof ideally)",
        "Rain Jacket (Weather changes fast)",
        "Swimsuit & Microfiber Towel",
        "Headlamp (For tunnel hiking)",
        "Sunscreen & Hat (Strong UV on peaks)",
        "Reusable Water Bottle",
        "Offline Maps (Google Maps/AllTrails)",
      ];

      // --- State Management ---
      let currentDayIndex = 0;
      let dayRadarChart = null;
      let overviewChart = null;

      // --- Initialization ---
      document.addEventListener("DOMContentLoaded", () => {
        renderDaySelector();
        renderDayContent(0);
        renderPackingList();
        initOverviewChart();
      });

      // --- Functions ---

      function renderDaySelector() {
        const container = document.getElementById("daySelector");
        container.innerHTML = "";

        itineraryData.forEach((day, index) => {
          const btn = document.createElement("button");
          btn.className = `flex-shrink-0 px-6 py-3 rounded-full border text-sm font-bold transition-all duration-200 ${
            index === 0 ? "active-day" : "inactive-day"
          }`;
          btn.textContent = `Day ${day.day}`;
          btn.onclick = () => {
            currentDayIndex = index;
            updateActiveButton(index);
            renderDayContent(index);
          };
          container.appendChild(btn);
        });
      }

      function updateActiveButton(index) {
        const buttons = document.getElementById("daySelector").children;
        Array.from(buttons).forEach((btn, i) => {
          if (i === index) {
            btn.className =
              "flex-shrink-0 px-6 py-3 rounded-full border text-sm font-bold transition-all duration-200 active-day shadow-md transform scale-105";
          } else {
            btn.className =
              "flex-shrink-0 px-6 py-3 rounded-full border text-sm font-bold transition-all duration-200 inactive-day";
          }
        });
      }

      function renderDayContent(index) {
        const day = itineraryData[index];
        const contentDiv = document.getElementById("dayContent");

        // Re-trigger animation
        contentDiv.classList.remove("fade-in");
        void contentDiv.offsetWidth; // trigger reflow
        contentDiv.classList.add("fade-in");

        contentDiv.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-3 min-h-[600px]">
                    <!-- Left: Narrative & Info -->
                    <div class="lg:col-span-2 p-6 md:p-8">
                        <div class="flex items-center space-x-3 mb-2">
                            <span class="bg-green-100 text-green-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide">Day ${
                              day.day
                            }</span>
                            ${
                              day.swim
                                ? '<span class="bg-blue-100 text-blue-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide"><i class="fa-solid fa-water mr-1"></i> Swimming</span>'
                                : ""
                            }
                        </div>
                        <h2 class="text-3xl font-serif font-bold text-gray-900 mb-1">${
                          day.title
                        }</h2>
                        <h3 class="text-xl text-gray-500 mb-6 font-light">${
                          day.subtitle
                        }</h3>
                        
                        <p class="text-gray-700 leading-relaxed mb-8 border-l-4 border-green-500 pl-4 bg-gray-50 py-2 rounded-r-lg">
                            ${day.desc}
                        </p>

                        <div class="space-y-6">
                            <div class="relative pl-8 border-l-2 border-dashed border-gray-300">
                                <div class="absolute -left-[9px] top-0 bg-yellow-400 w-4 h-4 rounded-full border-2 border-white shadow"></div>
                                <h4 class="font-bold text-gray-800 mb-1">Morning</h4>
                                <p class="text-gray-600 text-sm leading-relaxed">${
                                  day.morning
                                }</p>
                            </div>
                            
                            <div class="relative pl-8 border-l-2 border-dashed border-gray-300">
                                <div class="absolute -left-[9px] top-0 bg-orange-400 w-4 h-4 rounded-full border-2 border-white shadow"></div>
                                <h4 class="font-bold text-gray-800 mb-1">Afternoon</h4>
                                <p class="text-gray-600 text-sm leading-relaxed">${
                                  day.afternoon
                                }</p>
                            </div>

                            <div class="relative pl-8 border-l-2 border-dashed border-gray-300 pb-2">
                                <div class="absolute -left-[9px] top-0 bg-purple-400 w-4 h-4 rounded-full border-2 border-white shadow"></div>
                                <h4 class="font-bold text-gray-800 mb-1">Evening</h4>
                                <p class="text-gray-600 text-sm leading-relaxed">${
                                  day.evening
                                }</p>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Logistics & Stats -->
                    <div class="bg-gray-50 p-6 md:p-8 border-l border-gray-200 flex flex-col justify-between">
                        <div>
                            <h4 class="font-bold text-gray-800 mb-4 uppercase text-xs tracking-wider">Logistics</h4>
                            <div class="grid grid-cols-2 gap-4 mb-8">
                                <div class="bg-white p-3 rounded-lg shadow-sm">
                                    <div class="text-gray-400 text-xs">Drive Time</div>
                                    <div class="font-bold text-gray-800"><i class="fa-solid fa-clock text-blue-500 mr-2"></i>${
                                      day.driveTime
                                    }</div>
                                </div>
                                <div class="bg-white p-3 rounded-lg shadow-sm">
                                    <div class="text-gray-400 text-xs">Distance</div>
                                    <div class="font-bold text-gray-800"><i class="fa-solid fa-route text-blue-500 mr-2"></i>${
                                      day.driveDist
                                    }</div>
                                </div>
                                <div class="bg-white p-3 rounded-lg shadow-sm col-span-2">
                                    <div class="text-gray-400 text-xs">Hiking</div>
                                    <div class="font-bold text-gray-800"><i class="fa-solid fa-person-hiking text-green-600 mr-2"></i>${
                                      day.hikeDist
                                    }</div>
                                </div>
                            </div>
                            
                            <h4 class="font-bold text-gray-800 mb-2 uppercase text-xs tracking-wider">Daily Vibe Check</h4>
                            <div class="chart-container" style="height: 250px;">
                                <canvas id="dayRadarChart"></canvas>
                            </div>
                            <p class="text-xs text-center text-gray-400 mt-2">Balance of activities</p>
                        </div>
                    </div>
                </div>
            `;

        initDayRadarChart(day.stats);
      }

      function renderPackingList() {
        const container = document.getElementById("packingList");
        packingItems.forEach((item, index) => {
          const div = document.createElement("div");
          div.className =
            "flex items-center space-x-3 p-2 hover:bg-white rounded-lg transition cursor-pointer select-none";
          div.onclick = function () {
            this.querySelector("i").classList.toggle("fa-square");
            this.querySelector("i").classList.toggle("fa-square-check");
            this.querySelector("i").classList.toggle("text-green-600");
            this.querySelector("span").classList.toggle("line-through");
            this.querySelector("span").classList.toggle("text-gray-400");
          };
          div.innerHTML = `
                    <i class="fa-regular fa-square text-gray-400 text-lg"></i>
                    <span class="text-green-900">${item}</span>
                `;
          container.appendChild(div);
        });
      }

      // --- Chart.js Implementations ---

      function initDayRadarChart(stats) {
        const ctx = document.getElementById("dayRadarChart").getContext("2d");

        if (dayRadarChart) {
          dayRadarChart.destroy();
        }

        dayRadarChart = new Chart(ctx, {
          type: "radar",
          data: {
            labels: ["Nature", "Physical", "Culture", "Relaxation", "Driving"],
            datasets: [
              {
                label: "Intensity Score",
                data: [
                  stats.Nature,
                  stats.Physical,
                  stats.Culture,
                  stats.Relaxation,
                  stats.Driving,
                ],
                fill: true,
                backgroundColor: "rgba(47, 133, 90, 0.2)", // Green-ish
                borderColor: "rgb(47, 133, 90)",
                pointBackgroundColor: "rgb(47, 133, 90)",
                pointBorderColor: "#fff",
                pointHoverBackgroundColor: "#fff",
                pointHoverBorderColor: "rgb(47, 133, 90)",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: false },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    return context.label + ": " + context.raw + "%";
                  },
                },
              },
            },
            scales: {
              r: {
                angleLines: { color: "#e2e8f0" },
                grid: { color: "#e2e8f0" },
                pointLabels: {
                  font: { size: 10, family: "Inter" },
                  color: "#4a5568",
                },
                suggestedMin: 0,
                suggestedMax: 100,
                ticks: { display: false }, // Hide numbers on axis for cleaner look
              },
            },
          },
        });
      }

      function initOverviewChart() {
        const ctx = document.getElementById("overviewChart").getContext("2d");

        // Extract hiking intensity levels for the dataset
        const physicalData = itineraryData.map((d) => d.stats.Physical);
        const drivingData = itineraryData.map((d) => d.stats.Driving);
        const relaxData = itineraryData.map((d) => d.stats.Relaxation);

        overviewChart = new Chart(ctx, {
          type: "bar",
          data: {
            labels: ["Day 1", "Day 2", "Day 3", "Day 4", "Day 5", "Day 6"],
            datasets: [
              {
                label: "Physical Exertion",
                data: physicalData,
                backgroundColor: "rgba(239, 68, 68, 0.7)", // Red
                borderRadius: 4,
              },
              {
                label: "Relaxation",
                data: relaxData,
                backgroundColor: "rgba(59, 130, 246, 0.7)", // Blue
                borderRadius: 4,
              },
              {
                label: "Driving Intensity",
                data: drivingData,
                backgroundColor: "rgba(107, 114, 128, 0.7)", // Gray
                borderRadius: 4,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                max: 100,
                grid: { borderDash: [2, 2] },
                title: { display: true, text: "Intensity Score (0-100)" },
              },
              x: {
                grid: { display: false },
              },
            },
            plugins: {
              tooltip: {
                mode: "index",
                intersect: false,
              },
            },
          },
        });
      }

      function scrollToSection(id) {
        const element = document.getElementById(id);
        if (element) {
          element.scrollIntoView({ behavior: "smooth" });
        }
      }
    </script>
  </body>
</html>
